/*! For license information please see 171.7c135bdf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkleave_tracking_app=self.webpackChunkleave_tracking_app||[]).push([[171],{171:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(43),i=t(233),l=t(54),r=t(919),d=t(118),n=t(784);const c=(0,n.A)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),m=(0,n.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var o=t(117);const x=(0,n.A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),h=(0,n.A)("cloud-rain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),u=(0,n.A)("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),g=(0,n.A)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),v=(0,n.A)("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);var j=t(579);const b=e=>{var s,t;let{vacation:i,weatherData:l,loading:r,error:d}=e;const[n,m]=(0,a.useState)(!1);if(!l||!l.forecast||!Array.isArray(l.forecast))return(0,j.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,j.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,j.jsxs)("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,j.jsx)(c,{className:"w-5 h-5 text-gray-400"}),"Weather Forecast - ",(null===i||void 0===i?void 0:i.destination)||"Unknown Location"]})}),(0,j.jsx)("div",{className:"text-center py-4",children:(0,j.jsx)("div",{className:"text-gray-500 text-sm",children:(null===l||void 0===l?void 0:l.forecast_message)||"No weather data available"})})]});if(r)return(0,j.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,j.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,j.jsxs)("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,j.jsx)(c,{className:"w-5 h-5 text-blue-500"}),"Weather Forecast"]})}),(0,j.jsxs)("div",{className:"animate-pulse",children:[(0,j.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,j.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),(0,j.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]});if(d)return(0,j.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,j.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,j.jsxs)("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,j.jsx)(c,{className:"w-5 h-5 text-gray-400"}),"Weather Forecast"]})}),(0,j.jsx)("div",{className:"text-red-500 text-sm",children:"\u26a0\ufe0f Weather data unavailable"})]});if(!l||!l.forecast)return null;const o=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),b=e=>{const s=e.toLowerCase();return s.includes("clear")||s.includes("sun")?(0,j.jsx)(x,{className:"w-6 h-6 text-yellow-500"}):s.includes("cloud")?(0,j.jsx)(c,{className:"w-6 h-6 text-gray-500"}):s.includes("rain")||s.includes("storm")?(0,j.jsx)(h,{className:"w-6 h-6 text-blue-600"}):(0,j.jsx)(c,{className:"w-6 h-6 text-gray-400"})},p=e=>e>=8?"text-green-600 bg-green-100":e>=6?"text-blue-600 bg-blue-100":e>=4?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return(0,j.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[(0,j.jsx)(c,{className:"w-5 h-5 text-blue-500"}),"Weather Forecast"]}),(0,j.jsx)("div",{className:"flex items-center gap-2",children:(0,j.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(l.overall_score)}`,children:[l.overall_score,"/10 ",(y=l.overall_score,y>=8?"Excellent":y>=6?"Good":y>=4?"Fair":"Poor")]})})]}),(0,j.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:(0,j.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,j.jsxs)("div",{className:"font-medium mb-1",children:[l.destination," \u2022 ",l.destination_type.replace("_"," ")," destination"]}),(0,j.jsxs)("div",{className:"text-xs text-gray-600 mb-2",children:[(null===(s=l.data_sources)||void 0===s?void 0:s.forecast_days)||0," days forecast",(null===(t=l.data_sources)||void 0===t?void 0:t.historical_days)>0&&` \u2022 ${l.data_sources.historical_days} days historical data`," \u2022 Generated "+new Date(l.generated_at).toLocaleTimeString()]}),l.forecast_message&&(0,j.jsx)("div",{className:"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded",children:l.forecast_message})]})}),(0,j.jsx)("div",{className:"space-y-3",children:(l.forecast||[]).slice(0,n?(l.forecast||[]).length:3).map((e,s)=>(0,j.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[(0,j.jsx)("div",{className:"flex-shrink-0",children:b(e.condition)}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-sm",children:o(e.date)}),(0,j.jsx)("div",{className:"text-xs text-gray-600 capitalize",children:e.condition})]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[(0,j.jsx)(u,{className:"w-4 h-4 text-orange-500"}),(0,j.jsxs)("span",{children:[e.temperature.min,"\xb0-",e.temperature.max,"\xb0C"]})]}),e.rain_probability>20&&(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[(0,j.jsx)(g,{className:"w-4 h-4 text-blue-500"}),(0,j.jsxs)("span",{children:[e.rain_probability,"%"]})]}),e.wind_speed>15&&(0,j.jsxs)("div",{className:"flex items-center gap-1",children:[(0,j.jsx)(v,{className:"w-4 h-4 text-gray-500"}),(0,j.jsxs)("span",{children:[e.wind_speed,"km/h"]})]}),(0,j.jsxs)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(e.suitability_score)}`,children:[e.suitability_score,"/10"]})]})]},`${e.date}-${s}`))}),(l.forecast||[]).length>3&&(0,j.jsx)("button",{onClick:()=>m(!n),className:"w-full mt-3 text-sm text-blue-600 hover:text-blue-800 font-medium",children:n?"Show Less":`Show All ${(l.forecast||[]).length} Days`}),l.ai_analysis&&(0,j.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[(0,j.jsxs)("div",{className:"flex items-center mb-3",children:[(0,j.jsx)("div",{className:"w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center mr-3",children:(0,j.jsx)("span",{className:"text-blue-600 text-sm",children:"\ud83e\udd16"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"AI Weather Intelligence"}),(0,j.jsx)("div",{className:"text-xs text-blue-600",children:"Powered by AI Analysis Engine"})]})]}),(0,j.jsxs)("div",{className:"mb-3 p-3 bg-white rounded-lg border border-blue-100",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-blue-700 mb-1",children:"\ud83c\udfaf AI Recommendation"}),(0,j.jsx)("div",{className:"text-sm text-gray-800",children:l.ai_analysis.recommendation})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,j.jsxs)("div",{className:"p-2 bg-white rounded border border-blue-100",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-blue-700",children:"Confidence"}),(0,j.jsx)("div",{className:"text-sm font-medium "+("high"===l.ai_analysis.confidence_level?"text-green-600":"medium"===l.ai_analysis.confidence_level?"text-yellow-600":"text-red-600"),children:l.ai_analysis.confidence_level.toUpperCase()})]}),(0,j.jsxs)("div",{className:"p-2 bg-white rounded border border-blue-100",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-blue-700",children:"Risk Level"}),(0,j.jsx)("div",{className:"text-sm font-medium "+("low"===l.ai_analysis.risk_assessment?"text-green-600":"medium"===l.ai_analysis.risk_assessment?"text-yellow-600":"text-red-600"),children:l.ai_analysis.risk_assessment.toUpperCase()})]})]}),(0,j.jsxs)("div",{className:"mb-3",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-blue-700 mb-1",children:"\ud83d\udcca Weather Pattern"}),(0,j.jsx)("div",{className:"text-sm text-gray-800 capitalize",children:l.ai_analysis.weather_pattern})]}),(l.ai_analysis.risk_factors||[]).length>0&&(0,j.jsxs)("div",{className:"mb-3",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-red-700 mb-1",children:"\u26a0\ufe0f Risk Factors"}),(0,j.jsx)("div",{className:"space-y-1",children:(l.ai_analysis.risk_factors||[]).map((e,s)=>(0,j.jsxs)("div",{className:"text-xs text-red-600",children:["\u2022 ",e]},s))})]}),(l.ai_analysis.destination_insights||[]).length>0&&(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-xs font-medium text-purple-700 mb-1",children:"\ud83c\udfd4\ufe0f Destination Insights"}),(0,j.jsx)("div",{className:"space-y-1",children:(l.ai_analysis.destination_insights||[]).map((e,s)=>(0,j.jsxs)("div",{className:"text-xs text-purple-600",children:["\u2022 ",e]},s))})]})]}),(l.weather_tips||[]).length>0&&(0,j.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm font-medium text-gray-800 mb-2",children:"\ud83d\udca1 Weather Tips"}),(0,j.jsx)("div",{className:"space-y-1",children:(l.weather_tips||[]).map((e,s)=>(0,j.jsx)("div",{className:"text-xs text-gray-700",children:e},s))})]}),(l.historical_data||[]).length>0&&(0,j.jsxs)("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[(0,j.jsx)("div",{className:"text-sm font-medium text-purple-800 mb-2",children:"\ud83d\udcca Historical Comparison (Last Year)"}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-purple-700 font-medium",children:"Historical Average"}),(0,j.jsxs)("div",{className:`px-2 py-1 rounded-full text-xs font-medium inline-block ${p(l.historical_average)}`,children:[l.historical_average,"/10"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-purple-700 font-medium",children:"Data Points"}),(0,j.jsxs)("div",{className:"text-purple-600",children:[(l.historical_data||[]).length," days"]})]})]}),l.overall_score>0&&l.historical_average>0&&(0,j.jsxs)("div",{className:"mt-2 text-xs text-purple-700",children:[l.overall_score>l.historical_average?"\ud83d\udcc8":"\ud83d\udcc9"," ","Current forecast is ",Math.abs(l.overall_score-l.historical_average).toFixed(1)," points",l.overall_score>l.historical_average?" better":" worse"," than last year"]})]}),((l.best_days||[]).length>0||(l.worst_days||[]).length>0)&&(0,j.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[(l.best_days||[]).length>0&&(0,j.jsxs)("div",{className:"p-2 bg-green-50 rounded-lg",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-green-800 mb-1",children:"\u2600\ufe0f Best Days"}),(0,j.jsx)("div",{className:"text-xs text-green-700",children:(l.best_days||[]).map(e=>o(e)).join(", ")})]}),(l.worst_days||[]).length>0&&(0,j.jsxs)("div",{className:"p-2 bg-red-50 rounded-lg",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-red-800 mb-1",children:"\ud83c\udf27\ufe0f Challenging Days"}),(0,j.jsx)("div",{className:"text-xs text-red-700",children:(l.worst_days||[]).map(e=>o(e)).join(", ")})]})]}),l.attribution&&(0,j.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,j.jsx)("div",{className:"text-xs text-gray-500 text-center",children:l.attribution})})]});var y},p=e=>{let{leaveBalances:s,holidays:t,vacations:n,aiInsights:x={},aiLoading:h={},aiError:u={},weatherData:g={},allWeatherData:v={},weatherLoading:p=!1,weatherError:y=null}=e;const{t:N}=(0,o.Bd)(),[f,w]=(0,a.useState)(null);return(0,j.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[(0,j.jsxs)("div",{className:"flex items-center mb-4",children:[(0,j.jsx)(i.A,{className:"w-5 h-5 text-green-600 mr-2"}),(0,j.jsx)("h4",{className:"font-semibold text-gray-800",children:N("insights.smartInsights")})]}),(0,j.jsxs)("div",{className:"space-y-3",children:[(0,j.jsxs)("div",{className:"p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 hover:scale-[1.02] border border-emerald-100",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("h4",{className:"font-medium text-emerald-900",children:"Long Weekend Detected!"}),(0,j.jsx)("div",{className:"w-8 h-8 bg-emerald-200 rounded-full flex items-center justify-center",children:(0,j.jsx)(l.A,{className:"w-5 h-5 text-emerald-600"})})]}),(0,j.jsx)("p",{className:"text-sm text-emerald-700",children:"Check for upcoming long weekends"})]}),(0,j.jsxs)("div",{className:"p-4 bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 hover:scale-[1.02] border border-indigo-100",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("h4",{className:"font-medium text-indigo-900",children:"Optimal Booking"}),(0,j.jsx)("div",{className:"w-8 h-8 bg-indigo-200 rounded-full flex items-center justify-center",children:(0,j.jsx)(r.A,{className:"w-5 h-5 text-indigo-600"})})]}),(0,j.jsx)("p",{className:"text-sm text-indigo-700",children:"Optimal booking recommendations"})]}),(0,j.jsxs)("div",{className:"p-4 bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 hover:scale-[1.02] border border-violet-100",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("h4",{className:"font-medium text-violet-900",children:"Team Sync"}),(0,j.jsx)("div",{className:"w-8 h-8 bg-violet-200 rounded-full flex items-center justify-center",children:(0,j.jsx)(d.A,{className:"w-5 h-5 text-violet-600"})})]}),(0,j.jsx)("p",{className:"text-sm text-violet-700",children:"Team coordination insights"})]}),n&&n.length>0&&(0,j.jsx)("div",{className:"mt-4 space-y-2",children:n.map((e,s)=>{const t=e._id||e.name||s,a=v[t]||g||{},i=(e=>{const s=new Date;s.setHours(0,0,0,0);const t=new Date(e.fromDate||e.startDate);t.setHours(0,0,0,0);const a=Math.ceil((t-s)/864e5);return a>=0&&a<=5})(e),l=((e,s)=>{if(!s||!s.forecast||0===s.forecast.length)return"Weather analysis not available";const t=s.forecast.reduce((e,s)=>e+s.temperature.current,0)/s.forecast.length,a=s.overall_score||0;return`${Math.round(t)}\xb0C \u2022 ${a.toFixed(1)}/10 rating`})(0,a);return(0,j.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[(0,j.jsx)(c,{className:"w-4 h-4 text-blue-500"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-gray-800",children:e.destination}),(0,j.jsx)("div",{className:"text-sm text-gray-600",children:i?l:"Weather analysis not available"})]})]}),(0,j.jsxs)("button",{onClick:()=>w(e),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-sm font-medium",children:[(0,j.jsx)(m,{className:"w-3 h-3"}),"View Details"]})]},t)})})]}),f&&(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Weather Forecast - ",f.destination]}),(0,j.jsx)("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,j.jsx)("div",{className:"p-6",children:(0,j.jsx)(b,{vacation:f,weatherData:v[f._id||f.name]||g||{},loading:p,error:y})})]})})]})}}}]);
//# sourceMappingURL=171.7c135bdf.chunk.js.map